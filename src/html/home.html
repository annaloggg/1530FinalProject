<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Doom Schooling | Home</title>
    <link rel="stylesheet" href="/src/css/home.css">
    <!-- <script src="/src/js/matchLogic.js" defer></script> -->
    <script src="/funky logic pt.2/js/matchLogic.js" defer></script>
</head>

<body>
    <header>
        <a href="/src/html/home.html">
            <img id="logo" src="/src/assets/DoomSchoolLogo.png">
        </a>
        <form id="search-inputs" action="/home">
            <div class="dropdown">
                <button class="button-no-bg" type="button">
                    <img id="filter-icon" src="/src/assets/filterIcon.png">
                </button>
                <div id="course-dropdown">
                    <p>Filter by course</p>
                    <ul id="course-filter-list">
                        <li>
                            <a href="math_videos.html">
                                <button type="button" class="course-button">MATH 0220</button>
                            </a>
                        </li>
                        <li>
                            <a href="cs_videos.html">
                                <button type="button" class="course-button">CS 1543</button>
                            </a>
                        </li>
                        <li>
                            <a href="his_videos.html">
                                <button type="button" class="course-button">HIS 1430</button>
                            </a>
                        </li>


                        <!-- <li><button type="button"> MATH 0220 <a href="math_videos.html"> </li> </button> </a>
                        <li><button type="button">CS 1543 <a href="cs_videos.html"> </li> </button> </a>
                        <li><button type="button">HIS 1340 <a href="his_videos.html"> </li> </button> </a> -->
                        <!-- <li><button type="button"></a> onclick="runMatchLogic('CS 1542')">CS 1542</button></li>
                        <li><button type="button"></button> onclick="runMatchLogic('HIS 1203')">HIS 1203</button></li> -->
                    </ul>
                </div>
            </div>
            <input id="video-search" type="search" placeholder="Search for videos...">
            <button id="search-submit-button" type="submit">
                <img id="search-icon" src="/src/assets/searchIcon.png">
            </button>
        </form>
        <a href="/src/html/profile.html">
            <img id="profile-pic" src="/src/assets/profileIcon.png">
        </a>
    </header>

    <h1>Recommended Videos</h1>
    <div id="results"></div>



    <!-- <script>
        const videos = JSON.parse(localStorage.getItem("recommendedVideos") || "[]");
        const container = document.getElementById("results");

        if (videos.length === 0) {
            container.innerHTML = "<p>No matching videos found.</p>";
        } else {
            videos.forEach(({ url, title }) => {
                const div = document.createElement("div");
                const link = document.createElement("a");
                link.href = url;
                link.textContent = title;
                link.target = "home.html";
                div.appendChild(link);
                container.appendChild(div);
            });
        }
    </script> -->

    <div id="main-page-content">
        <div id="side-nav">
            <ul>
                <h2>Your Pages</h2>

                <li><a href="/src/html/home.html">For You</a></li>
                <div>
                    <h2>Saved Videos</h2>
                    <li><a href="/src/html/home.html">MATH 0220</a></li>
                    <li><a href="/src/html/home.html">CS 1543</a></li>
                    <li><a href="/src/html/home.html">HIS 1430</a></li>
                </div>
            </ul>
        </div>

        <div id="video-stack">

            <div id="video-player">
                <iframe width="1000" height="563" src="https://www.youtube.com/embed/tXNUD8NCmcU"
                    frameborder="0"></iframe>
                <div id="video-action-buttons">
                    <button class="action-buttons" type="button" name="save">
                        <img id="saveIcon" src="/src/assets/saveIcon.png">
                    </button>
                    <button class="action-buttons" name="quiz">
                        <img id="quizIcon" src="/src/assets/quizIcon.png">
                    </button>
                </div>
            </div>

            <div id="video-player">
                <iframe width="1000" height="563" src="https://www.youtube.com/embed/Prv_X12VWVA"
                    frameborder="0"></iframe>
                <div id="video-action-buttons">
                    <button class="action-buttons" type="button" name="save">
                        <img id="saveIcon" src="/src/assets/saveIcon.png">
                    </button>
                    <button class="action-buttons" name="quiz">
                        <img id="quizIcon" src="/src/assets/quizIcon.png">
                    </button>
                </div>
            </div>

            <div id="video-player">
                <iframe width="1000" height="563" src="https://www.youtube.com/embed/sWNcMRCV98M"
                    frameborder="0"></iframe>
                <div id="video-action-buttons">
                    <button class="action-buttons" type="button" name="save">
                        <img id="saveIcon" src="/src/assets/saveIcon.png">
                    </button>
                    <button class="action-buttons" name="quiz">
                        <img id="quizIcon" src="/src/assets/quizIcon.png">
                    </button>
                </div>
            </div>

            <div id="video-player">
                <iframe width="1000" height="563" src="https://www.youtube.com/embed/ctQC0eXxIUc"
                    frameborder="0"></iframe>
                <div id="video-action-buttons">
                    <button class="action-buttons" type="button" name="save">
                        <img id="saveIcon" src="/src/assets/saveIcon.png">
                    </button>
                    <button class="action-buttons" name="quiz">
                        <img id="quizIcon" src="/src/assets/quizIcon.png">
                    </button>
                </div>
            </div>

            <div id="video-player">
                <iframe width="1000" height="563" src="https://www.youtube.com/embed/YDacLL70V5M"
                    frameborder="0"></iframe>
                <div id="video-action-buttons">
                    <button class="action-buttons" type="button" name="save">
                        <img id="saveIcon" src="/src/assets/saveIcon.png">
                    </button>
                    <button class="action-buttons" name="quiz">
                        <img id="quizIcon" src="/src/assets/quizIcon.png">
                    </button>
                </div>
            </div>

            <div id="video-player">
                <iframe width="1000" height="563" src="https://www.youtube.com/embed/rA-T4VPenD4"
                    frameborder="0"></iframe>
                <div id="video-action-buttons">
                    <button class="action-buttons" type="button" name="save">
                        <img id="saveIcon" src="/src/assets/saveIcon.png">
                    </button>
                    <button class="action-buttons" name="quiz">
                        <img id="quizIcon" src="/src/assets/quizIcon.png">
                    </button>
                </div>
            </div>

            <div id="video-player">
                <iframe width="1000" height="563" src="https://www.youtube.com/embed/29oEuGgD8cI "
                    frameborder="0"></iframe>
                <div id="video-action-buttons">
                    <button class="action-buttons" type="button" name="save">
                        <img id="saveIcon" src="/src/assets/saveIcon.png">
                    </button>
                    <button class="action-buttons" name="quiz">
                        <img id="quizIcon" src="/src/assets/quizIcon.png">
                    </button>
                </div>
            </div>

            <div id="video-player">
                <iframe width="1000" height="563" src="https://www.youtube.com/embed/pFag4mBsO1I"
                    frameborder="0"></iframe>
                <div id="video-action-buttons">
                    <button class="action-buttons" type="button" name="save">
                        <img id="saveIcon" src="/src/assets/saveIcon.png">
                    </button>
                    <button class="action-buttons" name="quiz">
                        <img id="quizIcon" src="/src/assets/quizIcon.png">
                    </button>
                </div>
            </div>

            <div id="video-player">
                <iframe width="1000" height="563" src="https://www.youtube.com/embed/JodJZjJtECE"
                    frameborder="0"></iframe>
                <div id="video-action-buttons">
                    <button class="action-buttons" type="button" name="save">
                        <img id="saveIcon" src="/src/assets/saveIcon.png">
                    </button>
                    <button class="action-buttons" name="quiz">
                        <img id="quizIcon" src="/src/assets/quizIcon.png">
                    </button>
                </div>
            </div>

            <div id="video-player">
                <iframe width="1000" height="563" src="https://www.youtube.com/embed/3LSNqYT-BQA"
                    frameborder="0"></iframe>
                <div id="video-action-buttons">
                    <button class="action-buttons" type="button" name="save">
                        <img id="saveIcon" src="/src/assets/saveIcon.png">
                    </button>
                    <button class="action-buttons" name="quiz">
                        <img id="quizIcon" src="/src/assets/quizIcon.png">
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- <script>
        const keywordMap = {
            "MATH 0220": ["integration", "calculus"],
            "CS 1542": ["concurrency", "threads", "deadlock"],
            "HIS 1203": ["industrial revolution", "empire", "treaty"]
        };

        async function runMatchLogic(courseCode) {
            const keywords = keywordMap[courseCode].map(k => k.toLowerCase());
            const iframes = document.querySelectorAll("iframe");

            for (const iframe of iframes) {
                try {
                    await new Promise((resolve) => {
                        if (iframe.contentDocument && iframe.contentDocument.readyState === "complete") {
                            resolve();
                        } else {
                            iframe.onload = () => resolve();
                        }
                    });

                    const doc = iframe.contentDocument || iframe.contentWindow.document;
                    const bodyText = doc.body.innerText.toLowerCase();

                    const matches = keywords.some(kw => bodyText.includes(kw));

                    if (!matches) {
                        iframe.closest("#video-player").style.display = "none";
                    } else {
                        iframe.closest("#video-player").style.display = "block";
                    }

                } catch (err) {
                    console.error("Could not access iframe content:", err);
                    iframe.closest("#video-player").style.display = "none";
                }
            }
        }
    </script> -->


</body>

</html>